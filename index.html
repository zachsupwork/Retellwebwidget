<!DOCTYPE html>
<html>
<head>
  <title>Retell Web Call Widget</title>
  <!-- Add the Retell SDK -->
  <script src="https://cdn.retellai.com/sdk/web-sdk.js"></script>

  <!-- Add the styles for the widget -->
  <style>
    #retell-call-widget {
      margin: 20px 0;
      min-height: 44px; /* Ensure there's space for the button */
      display: block;
    }
    .retell-call-button {
      background-color: #2563eb;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-family: system, -apple-system, sans-serif;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: background-color 0.2s;
      text-decoration: none;
      min-width: 150px;
      justify-content: center;
    }
    .retell-call-button:hover {
      background-color: #1d4ed8;
    }
  </style>
</head>
<body>
  <!-- Add this where you want the call widget to appear -->
  <div id="retell-call-widget"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize the widget
      function initWidget() {
        console.log('Initializing Retell widget...');
        
        if (typeof Retell === 'undefined') {
          console.error('Retell SDK not loaded yet. Retrying in 1 second...');
          setTimeout(initWidget, 1000);
          return;
        }

        try {
          const widget = Retell.widget.createCallWidget({
            containerId: 'retell-call-widget',
            accessToken: 'eyJhbGciOiJIUzI1NiJ9.eyJ2aWRlbyI6eyJyb29tSm9pbiI6dHJ1ZSwicm9vbSI6IndlYl9jYWxsXzI2OWRkYTJiZDE3Y2I4MWY2YzU0NGJlNDk1ZCJ9LCJpc3MiOiJBUElqWGZBMzVHTmM3WHgiLCJleHAiOjE3NDAyNDYwNzIsIm5iZiI6MCwic3ViIjoiY2xpZW50In0.L4H62phW2wKKz7Iy9MFIu_CRKJPtlzHAodDOEU3o6tw',
            renderButton: true,
            buttonConfig: {
              text: 'Connect to Agent',
            },
            styles: {
              button: 'retell-call-button'
            }
          });

          widget.mount();
          console.log('Retell widget initialized successfully');
        } catch (error) {
          console.error('Error initializing Retell widget:', error);
        }
      }

      // Start initialization
      initWidget();
    });
  </script>
</body>
</html>
